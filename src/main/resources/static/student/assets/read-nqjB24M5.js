import{d as S,s as R,j as h,o as n,k as v,w as r,l as t,c as a,n as o,p as _,m as d,a as l,u as w,F as T,v as C,A as M,I as z,_ as E,i as Q,r as b,e as D}from"./index-BN_aPgIH.js";import{e as P}from"./examPaperAnswer-BO6Ie7rU.js";import{u as H}from"./enumitem-C4DHP3Rz.js";import{f as G}from"./date-BTOyOhzP.js";import{p as J}from"./pending-filled-MLL95n8b.js";const K={class:"operator-block"},U={class:"operator-content"},W={class:"operator-title"},X={key:0,class:"num"},Y=["innerHTML"],Z={style:{color:"rgb(255, 152, 0)"}},ee={key:0,class:"qu-answer"},te={class:"tag"},ne={class:"content"},se={class:"right"},oe={key:1,class:"show-t"},ae={key:2,class:"qu-answer"},ie={class:"item"},re={class:"content"},le={class:"as-box"},de={class:"min-tt"},ce={key:2,class:"asp"},ue=["innerHTML"],me={class:"min-tt"},he=["innerHTML"],ve=S({__name:"QuestionAnswerShow",props:{question:{type:Object,default:()=>({})},answer:{type:Object,default(){return{id:null,content:"",contentArray:[],doRight:!1}}},qLoading:{type:Boolean,default:!1},qType:{type:Number,default:0},qIndex:{type:Number}},setup(e){const y=H(),k=R(()=>y.exam.question.typeEnum),p=R(()=>y.exam.question.answer.doRightEnum),F=R(()=>y.exam.question.answer.doRightTag),f=c=>y.enumFormat(F.value,c),g=c=>y.enumFormat(p.value,c),I=c=>{var s;return e.qType===1||e.qType===3?e.question.correct===c:e.qType===2?(s=e.question.correctArray)==null?void 0:s.includes(c):!0};return(c,s)=>{const i=h("t-tag"),u=h("t-loading");return n(),v(u,{size:"small",loading:e.qLoading,"show-overlay":""},{default:r(()=>[t("div",K,[t("div",U,[t("div",W,[e.question.itemOrder?(n(),a("div",X,o(e.question.itemOrder),1)):_("",!0),e.qType===4||e.qType===5?(n(),v(i,{key:1,theme:"warning"},{default:r(()=>s[0]||(s[0]=[d("人工批阅")])),_:1})):(n(),v(i,{key:2,theme:"success"},{default:r(()=>s[1]||(s[1]=[d("机器批阅")])),_:1})),l(i,null,{default:r(()=>[d(o(w(y).enumFormat(k.value,e.qType)),1)]),_:1}),t("h1",{innerHTML:e.question.title},null,8,Y),t("span",Z,"【"+o(e.question.score)+"分】",1)]),e.qType!==5?(n(),a("div",ee,[(n(!0),a(T,null,C(e.question.items,(m,$)=>(n(),a("div",{key:$,class:"item"},[t("div",te,o(m.prefix),1),t("div",ne,o(m.content),1),t("div",se,[I(m.prefix)?(n(),v(i,{key:0,shape:"round",theme:"success",variant:"light-outline"},{default:r(()=>[l(w(M)),s[2]||(s[2]=d(" 正确 "))]),_:1})):_("",!0)])]))),128))])):_("",!0),e.qType===5?(n(),a("div",oe,"参考答案：")):_("",!0),e.qType===5?(n(),a("div",ae,[t("div",ie,[t("div",re,o(e.question.correct),1)])])):_("",!0),t("div",le,[t("div",null,[l(i,{shape:"round",theme:f(e.answer.doRight),variant:"light-outline"},{default:r(()=>[e.answer.doRight?(n(),v(w(M),{key:0})):!e.answer.doRight&&e.answer.doRight!==null?(n(),v(w(z),{key:1})):(n(),v(w(J),{key:2})),d(" "+o(g(e.answer.doRight)),1)]),_:1},8,["theme"]),t("div",de,[s[3]||(s[3]=d(" 考生答案： ")),e.qType==1||e.qType==3?(n(),a(T,{key:0},[d(o(e.answer.content),1)],64)):e.qType==2||e.qType==4?(n(),a(T,{key:1},[d(o(e.answer.contentArray.join("、")),1)],64)):e.qType==5?(n(),a("div",ce,[t("p",{innerHTML:e.answer.content},null,8,ue)])):_("",!0)]),t("div",me,"考生得分："+o(e.answer.score),1),s[4]||(s[4]=t("div",{class:"min-tt"},"大题解析",-1)),t("div",null,[t("p",{innerHTML:e.question.analyze},null,8,he)])])])])])]),_:1},8,["loading"])}}}),ye=E(ve,[["__scopeId","data-v-26a20923"]]),qe={class:"paper-item-order-fake"},fe={class:"paper-item-order"},ge={class:"do-exam-time"},_e={class:"time"},we={class:"paper-question-content"},Te={key:0,class:"question-list-box"},ke={class:"list-box"},pe={class:"list-qu"},xe=S({__name:"read",setup(e){const y=Q(),k=b(!1),p=H(),F=R(()=>p.exam.question.answer.doRightTag),f=b({}),g=b({id:null,score:0,doTime:0,answerItems:[],doRight:!1}),I=i=>p.enumFormat(F.value,i),c=b(null),s=i=>{var m;const u=(m=c.value)==null?void 0:m.querySelector(i);u&&u.scrollIntoView({behavior:"instant",block:"center",inline:"nearest"})};return D(()=>{const{id:i}=y.query;i&&parseInt(i,10)!==0&&(k.value=!0,P.read(i).then(u=>{f.value=u.paper,g.value=u.answer,k.value=!1}))}),(i,u)=>{const m=h("t-descriptions-item"),$=h("t-descriptions"),A=h("t-divider"),N=h("t-tag"),B=h("t-space"),L=h("t-card"),V=h("t-form-item");return n(),a("div",{ref_key:"root",ref:c,class:"do-exam"},[t("div",qe,[t("div",fe,[l(L,{title:f.value.name,"header-bordered":""},{default:r(()=>[l($,{size:"small",layout:"vertical"},{default:r(()=>[l(m,{label:"试卷得分"},{default:r(()=>[d(o(g.value.score)+"分 / "+o(f.value.score)+"分",1)]),_:1}),l(m,{label:"考试时间"},{default:r(()=>[d(o(f.value.suggestTime)+"分钟",1)]),_:1})]),_:1}),l(A,{dashed:""}),l(B,{"break-line":"",size:"small"},{default:r(()=>[(n(!0),a(T,null,C(g.value.answerItems,q=>(n(),a("span",{key:q.itemOrder},[l(N,{theme:I(q.doRight),class:"do-exam-title-tag",onClick:O=>s("#question-"+q.itemOrder)},{default:r(()=>[d(o(q.itemOrder),1)]),_:2},1032,["theme","onClick"])]))),128))]),_:1}),l(A,{dashed:""}),t("div",ge,[u[0]||(u[0]=t("div",{class:"title"},"考生消耗时间",-1)),t("div",_e,o(w(G)(g.value.doTime)),1)])]),_:1},8,["title"])])]),t("div",we,[(n(!0),a(T,null,C(f.value.titleItems,(q,O)=>(n(),v(L,{key:O,title:q.name,"header-bordered":""},{default:r(()=>[q.questionItems.length!==0?(n(),a("div",Te,[(n(!0),a(T,null,C(q.questionItems,(x,j)=>(n(),v(V,{id:"question-"+x.itemOrder,key:j,style:{"margin-bottom":"0px"}},{default:r(()=>[t("div",ke,[t("div",pe,[l(ye,{"q-type":x.questionType,question:x,answer:g.value.answerItems[x.itemOrder-1],"q-loading":k.value},null,8,["q-type","question","answer","q-loading"])])])]),_:2},1032,["id"]))),128))])):_("",!0)]),_:2},1032,["title"]))),128))])],512)}}}),$e=E(xe,[["__scopeId","data-v-971b2baa"]]);export{$e as default};
